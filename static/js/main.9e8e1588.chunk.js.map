{"version":3,"sources":["components/CompareTable.js","components/Table.js","App.js","index.js"],"names":["style","table","width","CompareTable","props","dates","useState","keywords","setKeywords","apps","setApps","useEffect","firstDate","forEach","name","text","alreadyHasApp","find","app","alreadyHasKeyword","key","push","console","log","dark","map","keyword","i","secondDate","initialValue","position","finalValue","diff","parseInt","diffLabel","cell","cursor","Table","setFirstDate","setSecondDate","data","setDates","isFirstDateChecked","date","isSecondDateChecked","dateOne","parseISO","formattedDate","dateTwo","isFuture","info","onClick","setDate","scope","isDateChecked","URL","App","setData","a","fetch","response","json","parsedData","getData","ReactDOM","render","document","getElementById"],"mappings":"2NAGMA,EAAQ,CACZC,MAAO,CACLC,MAAO,QAII,SAASC,EAAaC,GAAQ,IACnCC,EAAUD,EAAVC,MADkC,EAEVC,mBAAS,IAFC,mBAEnCC,EAFmC,KAEzBC,EAFyB,OAGlBF,mBAAS,IAHS,mBAGnCG,EAHmC,KAG7BC,EAH6B,KAmC1C,OA9BAC,qBAAU,WAAO,IACRC,EADO,YACMP,EADN,MAEVI,EAAO,GACPF,EAAW,GAEf,OAAKK,GAMAA,EAAUL,UAMfK,EAAUL,SAASM,SAAQ,YAAqB,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,KAC5BC,EAAgBP,EAAKQ,MAAK,SAAAC,GAAG,OAAIA,IAAQJ,KACzCK,EAAoBZ,EAASU,MAAK,SAAAG,GAAG,OAAIA,IAAQL,KAClDC,GAAeP,EAAKY,KAAKP,GACzBK,GAAmBZ,EAASc,KAAKN,MAGxCL,EAAQD,QACRD,EAAYD,KAnBVG,EAAQD,QACRD,EAAYD,MAmBb,CAACF,IAEJiB,QAAQC,IAAIlB,GAGV,kBAAC,IAAD,CAASmB,MAAI,EAACxB,MAAOA,EAAMC,OACzB,+BACE,4BACE,iCACCQ,EAAKgB,KAAI,SAAAP,GAAG,OACX,wBAAIE,IAAKF,GAAMA,QAIrB,+BACGX,EAASkB,KAAI,SAAAC,GAAO,OACnB,wBAAIN,IAAKM,GACP,4BAAKA,GACJjB,EAAKgB,KAAI,SAACP,EAAKS,GAAO,IAAD,cACYtB,EADZ,GACbO,EADa,KACFgB,EADE,KAEpB,IAAKhB,EAAW,OAAO,KACvB,IAAKA,EAAUL,SAAU,OAAO,KAHZ,IAKFsB,EAAiBjB,EAAUL,SAASU,MACpD,gBAAGH,EAAH,EAAGA,KAAMC,EAAT,EAASA,KAAT,OAAoBD,IAASI,GAAOH,IAASW,KADvCI,SAGR,IAAKD,EAAc,OAAO,wBAAIT,IAAKO,GAAT,MAE1B,IAAKC,EAAY,OAAO,wBAAIR,IAAKO,GAAIE,GACrC,IAAKD,EAAWrB,SAAU,OAAO,wBAAIa,IAAKO,GAAIE,GAX1B,IAaFE,EAAeH,EAAWrB,SAASU,MACnD,gBAAGH,EAAH,EAAGA,KAAMC,EAAT,EAASA,KAAT,OAAoBD,IAASI,GAAOH,IAASW,KADvCI,SAIFE,EACJC,SAASF,EAAY,IAAME,SAASJ,EAAc,IAC9CK,EACJF,EAAO,EAAP,iBAAgBA,GAASA,EAAO,EAAP,iBAAgBA,GAAS,GAEpD,OACE,wBAAIZ,IAAKO,GACNE,EADH,IACkBK,Y,oBC9E5BlC,EAAQ,CACZC,MAAO,CACLC,MAAO,OAETiC,KAAM,CACJC,OAAQ,YAIG,SAASC,EAAMjC,GAAQ,IAAD,EACDE,mBAAS,IADR,mBAC5BM,EAD4B,KACjB0B,EADiB,OAEChC,mBAAS,IAFV,mBAE5BsB,EAF4B,KAEhBW,EAFgB,KAG3BC,EAAmBpC,EAAnBoC,KAAMC,EAAarC,EAAbqC,SA6Bd,SAASC,EAAT,GACE,OADoC,EAARC,OACZ/B,EAAU+B,KAG5B,SAASC,EAAT,GACE,OADqC,EAARD,OACbf,EAAWe,KAO7B,OAvCAhC,qBAAU,WACR,IAAMN,EAAQ,GACRwC,EAAUC,YAASlC,EAAUmC,eAC7BC,EAAUF,YAASlB,EAAWmB,eAChCE,YAASJ,EAASG,IACpB3C,EAAMgB,KAAKT,GACXP,EAAMgB,KAAKO,KAEXvB,EAAMgB,KAAKO,GACXvB,EAAMgB,KAAKT,IAEb6B,EAASpC,KACR,CAACO,EAAWgB,IA4Bb,kBAAC,IAAD,CAASJ,MAAI,EAACxB,MAAOA,EAAMC,OACzB,+BACE,4BACE,iCACA,wBAAIC,MAAM,OAAV,UAGJ,+BACGsC,EAAKf,KAAI,SAACyB,EAAMvB,GAAP,OACR,wBAAIP,IAAKO,EAAG3B,MAAOA,EAAMmC,KAAMgB,QAAS,kBAnChD,SAAiBD,GACXR,EAAmBQ,GACrBZ,EAAa,IAGXM,EAAoBM,GACtBX,EAAc,IAIhB3B,EAAU+B,KAAOJ,EAAcW,GAAQZ,EAAaY,GAyBAE,CAAQF,KACpD,wBAAIG,MAAM,OAAO1B,EAAI,GACrB,4BACGuB,EAAKH,cADR,IAhBV,SAAuBG,GACrB,OAAOR,EAAmBQ,IAASN,EAAoBM,GAAQ,MAAQ,GAgBvCI,CAAcJ,UClElD,IAAMK,EAAM,mDAyBGC,MAvBf,WAAgB,IAAD,EACWlD,mBAAS,IADpB,mBACNkC,EADM,KACAiB,EADA,OAEanD,mBAAS,IAFtB,mBAEND,EAFM,KAECoC,EAFD,iDAQb,8BAAAiB,EAAA,sEACyBC,MAAMJ,GAD/B,cACQK,EADR,gBAE2BA,EAASC,OAFpC,OAEQC,EAFR,OAIEL,EAAQK,GAJV,4CARa,sBAeb,OAXAnD,qBAAU,YAJG,mCAKXoD,KACC,IAUD,oCACE,kBAAC,EAAD,CAAOvB,KAAMA,EAAMC,SAAUA,IAC7B,kBAACtC,EAAD,CAAcE,MAAOA,MClB3B2D,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.9e8e1588.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Table as RSTable } from 'reactstrap';\n\nconst style = {\n  table: {\n    width: '50%'\n  }\n};\n\nexport default function CompareTable(props) {\n  const { dates } = props;\n  const [keywords, setKeywords] = useState([]);\n  const [apps, setApps] = useState([]);\n\n  useEffect(() => {\n    const [firstDate] = dates;\n    let apps = [];\n    let keywords = [];\n\n    if (!firstDate) {\n      setApps(apps);\n      setKeywords(keywords);\n      return;\n    }\n\n    if (!firstDate.keywords) {\n      setApps(apps);\n      setKeywords(keywords);\n      return;\n    }\n\n    firstDate.keywords.forEach(({ name, text }) => {\n      const alreadyHasApp = apps.find(app => app === name);\n      const alreadyHasKeyword = keywords.find(key => key === text);\n      if (!alreadyHasApp) apps.push(name);\n      if (!alreadyHasKeyword) keywords.push(text);\n    });\n\n    setApps(apps);\n    setKeywords(keywords);\n  }, [dates]);\n\n  console.log(dates);\n\n  return (\n    <RSTable dark style={style.table}>\n      <thead>\n        <tr>\n          <th>#</th>\n          {apps.map(app => (\n            <th key={app}>{app}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {keywords.map(keyword => (\n          <tr key={keyword}>\n            <td>{keyword}</td>\n            {apps.map((app, i) => {\n              const [firstDate, secondDate] = dates;\n              if (!firstDate) return null;\n              if (!firstDate.keywords) return null;\n\n              const { position: initialValue } = firstDate.keywords.find(\n                ({ name, text }) => name === app && text === keyword\n              );\n              if (!initialValue) return <td key={i}> -</td>;\n\n              if (!secondDate) return <td key={i}>{initialValue}</td>;\n              if (!secondDate.keywords) return <td key={i}>{initialValue}</td>;\n\n              const { position: finalValue } = secondDate.keywords.find(\n                ({ name, text }) => name === app && text === keyword\n              );\n\n              const diff =\n                parseInt(finalValue, 10) - parseInt(initialValue, 10);\n              const diffLabel =\n                diff > 0 ? `↑ ${diff}` : diff < 0 ? `↓ ${diff}` : '';\n\n              return (\n                <td key={i}>\n                  {initialValue} {diffLabel}\n                </td>\n              );\n            })}\n          </tr>\n        ))}\n      </tbody>\n    </RSTable>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { parseISO, isFuture } from 'date-fns';\nimport { Table as RSTable } from 'reactstrap';\n\nconst style = {\n  table: {\n    width: '50%'\n  },\n  cell: {\n    cursor: 'pointer'\n  }\n};\n\nexport default function Table(props) {\n  const [firstDate, setFirstDate] = useState({});\n  const [secondDate, setSecondDate] = useState({});\n  const { data, setDates } = props;\n\n  useEffect(() => {\n    const dates = [];\n    const dateOne = parseISO(firstDate.formattedDate);\n    const dateTwo = parseISO(secondDate.formattedDate);\n    if (isFuture(dateOne, dateTwo)) {\n      dates.push(firstDate);\n      dates.push(secondDate);\n    } else {\n      dates.push(secondDate);\n      dates.push(firstDate);\n    }\n    setDates(dates);\n  }, [firstDate, secondDate]);\n\n  function setDate(info) {\n    if (isFirstDateChecked(info)) {\n      setFirstDate({});\n      return;\n    }\n    if (isSecondDateChecked(info)) {\n      setSecondDate({});\n      return;\n    }\n\n    firstDate.date ? setSecondDate(info) : setFirstDate(info);\n  }\n\n  function isFirstDateChecked({ date }) {\n    return date === firstDate.date;\n  }\n\n  function isSecondDateChecked({ date }) {\n    return date === secondDate.date;\n  }\n\n  function isDateChecked(info) {\n    return isFirstDateChecked(info) || isSecondDateChecked(info) ? '- X' : '';\n  }\n\n  return (\n    <RSTable dark style={style.table}>\n      <thead>\n        <tr>\n          <th>#</th>\n          <th width=\"70%\">Data</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((info, i) => (\n          <tr key={i} style={style.cell} onClick={() => setDate(info)}>\n            <th scope=\"row\">{i + 1}</th>\n            <td>\n              {info.formattedDate} {isDateChecked(info)}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </RSTable>\n  );\n}\n","import React, { useState, useEffect } from 'react';\n\nimport { CompareTable, Table } from './components';\n\nconst URL = 'https://www.mocky.io/v2/5a880f353000004f007f93c5';\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [dates, setDates] = useState([]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  async function getData() {\n    const response = await fetch(URL);\n    const parsedData = await response.json();\n\n    setData(parsedData);\n  }\n\n  return (\n    <>\n      <Table data={data} setDates={setDates} />\n      <CompareTable dates={dates} />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}